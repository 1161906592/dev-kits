<%- include( `${process.cwd()}/.swagger/formFieldsHelper.ejs`) %>

// 查询字段
const renderFields = () => {
  const model = modelRef.value
  return (
    <>
      <% fields.filter((d) => d.key !== 'id').forEach(function(item){ %>
        <NFormItem label="<%- item.title %>:">
        <<%- item.type === 'boolean' ? typeof booleanType === 'undefined' ? 'NRadioGroup' : booleanType : item.meta?.includes('date-time') ? 'NDatePicker' : /\d+-\S+/.test(item.meta) || item.meta?.includes('remote') ? 'NSelect' : 'NInput' %>
          v-model:value={<%- typeof model === 'undefined' ? 'model' : model %>.<%- item.key %>}
          <% if (item.type !== 'boolean' && /\d+-\S+/.test(item.meta)) { %>
          options={<%- item.key %>Options}
          <% } else if (item.type !== 'boolean' && item.meta?.includes('remote')) { %>
          options={<%- item.key %>OptionsRef.value}
          <% } else if (item.type === "number") { %>
          allowInput={allowNumber}
          <% } %>
          clearable
        >
          <% if (item.type === 'boolean' && typeof booleanType === 'undefined') { %>
          <NRadio value>是</NRadio>
          <NRadio value={false}>否</NRadio>
          <% } %>
          </<%- item.type === 'boolean' ? typeof booleanType === 'undefined' ? 'NRadioGroup' : booleanType : item.meta?.includes('date-time') ? 'NDatePicker' : /\d+-\S+/.test(item.meta) || item.meta?.includes('remote') ? 'NSelect' : 'NInput' %>>
        </NFormItem>
      <% }); %>
    </>
  )
}